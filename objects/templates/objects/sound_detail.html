{% extends "base.html" %}
{% block body_block %}
<div class="container sound-bg">
  {% if sound.is_public or sound.owner.pk == request.user.pk %}
    <div class="row">
      <div class="col">
        <h4 class="sound-title">{{ sound.title }}</h4>
      </div>
      <div class="col">
        {% if sound.owner.pk == request.user.pk %}
          <a href="{% url 'objects:sound_delete' sound.pk %}?next={{ request.path }}">
            <button class="btn-sm btn-danger float-right">Delete</button>
          </a>
          <a href="{% url 'objects:sound_update' sound.pk %}?next={{ request.path }}">
            <button class="btn-sm btn-warning float-right">Edit</button>
          </a>
        {% endif %}
        {% if not sound.is_public %}
          <span class="badge badge-secondary float-right">Unpublished</span>
        {% endif %} 
      </div>
    </div>
    <p>{{ sound.text }}</p>
    <audio controls>
      <source src="{{ sound.sound_file.url }}" type="audio/mpeg">
      <source src="{{ sound.sound_file.url }}" type="audio/ogg">
        Your Browser does not support the media player.
    </audio>
    <br>
    <br>
    {% for tag in sound.tags.all %}
      <a href="{% url 'objects:tag_detail' tag.pk %}">
        <span class="badge badge-secondary">{{ tag }}</span>
      </a>
    {% endfor %}
    <br>
    <br>
    <p>created: {{ sound.creation_date }}</p>
    {% if sound.publication_date %}
      <p>published: {{ sound.publication_date }}</p>
    {% endif %}
    <p>last modified: {{ sound.last_modified }}</p>
    <br>
  {% else %}
    <p>This Sound has not been published yet.</p>
  {% endif %}
</div>
<br>
{% endblock %}
